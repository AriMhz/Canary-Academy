{"version":3,"sources":["../../../app/api/content/route.ts","../../../models/CMSContent.ts","../../../node_modules/.pnpm/next%4016.0.10_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/build/templates/app-route.js","../../../lib/get-base-path.ts","../../../lib/data.ts","../../../lib/cms-storage.ts"],"sourcesContent":["import { NextResponse } from \"next/server\"\r\nimport dbConnect from \"@/lib/mongodb\"\r\nimport CMSContent from \"@/models/CMSContent\"\r\nimport { defaultContent } from \"@/lib/cms-storage\"\r\n\r\nexport async function GET() {\r\n    try {\r\n        await dbConnect()\r\n        const doc = await CMSContent.findOne({ key: \"main_content\" }).lean()\r\n\r\n        if (!doc) {\r\n            // First time run: return default content (don't save yet to avoid junk)\r\n            return NextResponse.json(defaultContent)\r\n        }\r\n\r\n        return NextResponse.json(doc.data)\r\n    } catch (error) {\r\n        console.error(\"Error reading CMS content:\", error)\r\n        return NextResponse.json(defaultContent)\r\n    }\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const data = await request.json()\r\n        await dbConnect()\r\n\r\n        // Upsert: Create if not exists, update if exists\r\n        await CMSContent.findOneAndUpdate(\r\n            { key: \"main_content\" },\r\n            { data: data },\r\n            { upsert: true, new: true }\r\n        )\r\n\r\n        return NextResponse.json({ success: true })\r\n    } catch (error) {\r\n        console.error(\"Error saving CMS content:\", error)\r\n        return NextResponse.json({ success: false, error: \"Failed to save content\" }, { status: 500 })\r\n    }\r\n}\r\n","import mongoose, { Schema, Document, Model } from 'mongoose';\r\n\r\n// Since the CMS content is dynamic and large, we will implement a Singleton pattern\r\n// where we only ever read/write one document.\r\n// We use 'Strict: false' or 'Mixed' types to allow flexible deep structure updates without strict schema validation for every sub-field.\r\n\r\nexport interface ICMSContent extends Document {\r\n    key: string; // \"main_content\" - to identify valid document\r\n    data: any;   // The entire JSON blob\r\n}\r\n\r\nconst CMSContentSchema: Schema = new Schema({\r\n    key: { type: String, required: true, unique: true, default: 'main_content' },\r\n    data: { type: Schema.Types.Mixed, required: true }\r\n}, {\r\n    timestamps: true,\r\n    strict: false // Allow dynamic fields\r\n});\r\n\r\nconst CMSContent: Model<ICMSContent> = mongoose.models.CMSContent || mongoose.model<ICMSContent>('CMSContent', CMSContentSchema);\r\n\r\nexport default CMSContent;\r\n","import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setReferenceManifestsSingleton } from \"next/dist/esm/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/esm/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/content/route\",\n        pathname: \"/api/content\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/app/api/content/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/content/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","/**\r\n * Returns the base path for the application\r\n * In production (GitHub Pages), this will be '/Canary-Academy-demo'\r\n * In development, this will be ''\r\n */\r\nexport function getBasePath(): string {\r\n    return process.env.NEXT_PUBLIC_BASE_PATH || ''\r\n}\r\n\r\n/**\r\n * Returns the full path for an asset (image, video, etc.)\r\n * Automatically prepends the base path in production\r\n * \r\n * @param path - The path to the asset (should start with /)\r\n * @example\r\n * getAssetPath('/images/logo.png') // Returns '/Canary-Academy-demo/images/logo.png' in production\r\n */\r\nexport function getAssetPath(path: string): string {\r\n    const basePath = getBasePath()\r\n    // Ensure path starts with /\r\n    const cleanPath = path.startsWith('/') ? path : `/${path}`\r\n    return `${basePath}${cleanPath}`\r\n}\r\n","// Placeholder data for the website\n// This can be replaced with database queries later\n\nimport { getAssetPath } from \"./get-base-path\"\n\nexport const testimonials = [\n  {\n    id: 1,\n    name: \"Rajesh Sharma\",\n    role: \"Parent\",\n    content:\n      \"Canary Academy has transformed my child's learning experience. The teachers are dedicated and the facilities are excellent.\",\n    rating: 5,\n  },\n  {\n    id: 2,\n    name: \"Anita Thapa\",\n    role: \"Parent\",\n    content:\n      \"The holistic approach to education at Canary Academy ensures my daughter excels both academically and in extracurricular activities.\",\n    rating: 5,\n  },\n  {\n    id: 3,\n    name: \"Bikash Gurung\",\n    role: \"Alumni\",\n    content:\n      \"My time at Canary Academy laid a strong foundation for my university education. Forever grateful to the institution.\",\n    rating: 5,\n  },\n]\n\nexport const stats = [\n  { label: \"Years of Excellence\", value: \"25+\" },\n  { label: \"Qualified Teachers\", value: \"50+\" },\n  { label: \"Happy Students\", value: \"1000+\" },\n  { label: \"Alumni Network\", value: \"5000+\" },\n]\n\nexport const features = [\n  {\n    title: \"Qualified Faculty\",\n    description:\n      \"Our experienced teachers are dedicated to nurturing each student's potential with personalized attention.\",\n    icon: \"üë®‚Äçüè´\",\n    image: getAssetPath(\"/professional-educator-woman.jpg\"),\n  },\n  {\n    title: \"Modern Curriculum\",\n    description: \"We blend traditional values with contemporary teaching methods to prepare students for the future.\",\n    icon: \"üìö\",\n    image: getAssetPath(\"/modern-classroom-students.jpg\"),\n  },\n  {\n    title: \"State-of-the-art Facilities\",\n    description: \"From science labs to sports facilities, we provide the best infrastructure for holistic development.\",\n    icon: \"üè´\",\n    image: getAssetPath(\"/school-science-laboratory.png\"),\n  },\n  {\n    title: \"Extracurricular Activities\",\n    description: \"Sports, arts, music, and clubs help students discover their passions beyond academics.\",\n    icon: \"üé®\",\n    image: getAssetPath(\"/school-sports-event.png\"),\n  },\n]\n\nexport const newsData = [\n  {\n    id: 1,\n    title: \"Annual Sports Day 2024\",\n    date: \"2024-03-15\",\n    category: \"Events\",\n    excerpt: \"Join us for our annual sports day celebration featuring athletic competitions and team spirit.\",\n    image: getAssetPath(\"/school-sports-day.png\"),\n  },\n  {\n    id: 2,\n    title: \"Science Exhibition Success\",\n    date: \"2024-03-10\",\n    category: \"Achievements\",\n    excerpt: \"Our students showcased innovative projects at the inter-school science exhibition.\",\n    image: getAssetPath(\"/science-exhibition-students.jpg\"),\n  },\n  {\n    id: 3,\n    title: \"New Computer Lab Inauguration\",\n    date: \"2024-03-05\",\n    category: \"News\",\n    excerpt: \"State-of-the-art computer lab with latest technology now available for all students.\",\n    image: getAssetPath(\"/modern-computer-lab-school.jpg\"),\n  },\n]\n\nexport const facultyData = [\n  {\n    id: 1,\n    name: \"Dr. Ramesh Adhikari\",\n    position: \"Principal\",\n    qualification: \"Ph.D. in Education\",\n    image: getAssetPath(\"/professional-educator-man.jpg\"),\n  },\n  {\n    id: 2,\n    name: \"Mrs. Sita Rai\",\n    position: \"Vice Principal\",\n    qualification: \"M.Ed., 20 years experience\",\n    image: getAssetPath(\"/professional-educator-woman.jpg\"),\n  },\n  {\n    id: 3,\n    name: \"Mr. Kamal Thapa\",\n    position: \"Head of Science Department\",\n    qualification: \"M.Sc. in Physics\",\n    image: getAssetPath(\"/science-teacher-man.jpg\"),\n  },\n]\n\nexport const galleryImages = [\n  {\n    id: 1,\n    title: \"School Campus\",\n    category: \"Campus\",\n    image: getAssetPath(\"/modern-school-exterior.png\"),\n  },\n  {\n    id: 2,\n    title: \"Science Laboratory\",\n    category: \"Facilities\",\n    image: getAssetPath(\"/school-science-laboratory.png\"),\n  },\n  {\n    id: 3,\n    title: \"Library\",\n    category: \"Facilities\",\n    image: getAssetPath(\"/school-library-students.jpg\"),\n  },\n  {\n    id: 4,\n    title: \"Sports Day\",\n    category: \"Events\",\n    image: getAssetPath(\"/school-sports-event.png\"),\n  },\n  {\n    id: 5,\n    title: \"Annual Function\",\n    category: \"Events\",\n    image: getAssetPath(\"/school-annual-function-stage.jpg\"),\n  },\n  {\n    id: 6,\n    title: \"Classroom\",\n    category: \"Facilities\",\n    image: getAssetPath(\"/modern-classroom-students.jpg\"),\n  },\n]\n\nexport const programs = [\n  {\n    level: \"Primary (K-5)\",\n    description: \"Foundation years focusing on literacy, numeracy, and social skills development.\",\n    subjects: [\"English\", \"Mathematics\", \"Science\", \"Social Studies\", \"Nepali\", \"Arts & Crafts\"],\n  },\n  {\n    level: \"Lower Secondary (6-8)\",\n    description: \"Building on fundamentals with deeper subject exploration and critical thinking.\",\n    subjects: [\n      \"English\",\n      \"Mathematics\",\n      \"Science\",\n      \"Social Studies\",\n      \"Nepali\",\n      \"Computer Science\",\n      \"Physical Education\",\n    ],\n  },\n  {\n    level: \"Secondary (9-10)\",\n    description: \"Comprehensive preparation for board examinations and higher education.\",\n    subjects: [\n      \"English\",\n      \"Mathematics\",\n      \"Science\",\n      \"Social Studies\",\n      \"Nepali\",\n      \"Optional Mathematics\",\n      \"Computer Science\",\n    ],\n  },\n]\n","// CMS Storage System - Manages content data\r\n// Uses localStorage for now, can be upgraded to backend API later\r\n\r\nimport { galleryImages } from \"./data\"\r\n\r\nexport interface CMSContent {\r\n  hero: {\r\n    badge: string\r\n    title: string\r\n    subtitle: string\r\n    cta: string\r\n    learnMore: string\r\n    backgroundVideo: string\r\n    stats: {\r\n      yearsExp: { value: number; label: string }\r\n      teachers: { value: number; label: string }\r\n      students: { value: number; label: string }\r\n      alumni: { value: number; label: string }\r\n    }\r\n  }\r\n  features: {\r\n    title: string\r\n    subtitle: string\r\n    items: Array<{\r\n      title: string\r\n      description: string\r\n      image: string\r\n      icon: string\r\n    }>\r\n  }\r\n  programs: {\r\n    title: string\r\n    subtitle: string\r\n    items: Array<{\r\n      level: string\r\n      description: string\r\n      subjects: string[]\r\n    }>\r\n  }\r\n  testimonials: {\r\n    title: string\r\n    subtitle: string\r\n    items: Array<{\r\n      name: string\r\n      role: string\r\n      content: string\r\n      rating: number\r\n    }>\r\n  }\r\n  cta: {\r\n    title: string\r\n    text: string\r\n    applyNow: string\r\n    contactUs: string\r\n  }\r\n  news: Array<{\r\n    id: number\r\n    title: string\r\n    date: string\r\n    category: string\r\n    excerpt: string\r\n    content?: string\r\n    image: string\r\n    videoUrl?: string\r\n  }>\r\n  gallery: Array<{\r\n    id: number\r\n    title: string\r\n    category: string\r\n    image: string\r\n  }>\r\n  about: {\r\n    hero: {\r\n      title: string\r\n      description: string\r\n      image: string\r\n    }\r\n    story: {\r\n      badge: string\r\n      title: string\r\n      subtitle: string\r\n      paragraph1: string\r\n      paragraph2: string\r\n      paragraph1_np?: string\r\n      paragraph2_np?: string\r\n      imageCaption: string\r\n      image: string\r\n      stats: {\r\n        experience: { value: string; label: string }\r\n        graduates: { value: string; label: string }\r\n      }\r\n    }\r\n    vision: {\r\n      title: string\r\n      description: string\r\n    }\r\n    mission: {\r\n      title: string\r\n      description: string\r\n    }\r\n    values: {\r\n      title: string\r\n      subtitle: string\r\n      items: Array<{\r\n        title: string\r\n        description: string\r\n      }>\r\n    }\r\n    journey: {\r\n      title: string\r\n      subtitle: string\r\n      milestones: Array<{\r\n        year: string\r\n        event: string\r\n      }>\r\n    }\r\n    team: {\r\n      title: string\r\n      description: string\r\n      button: string\r\n    }\r\n    committee: {\r\n      smc: {\r\n        title: string\r\n        description: string\r\n        members: Array<{ name: string; designation: string; image: string; phone?: string; email?: string }>\r\n      }\r\n      soc: {\r\n        title: string\r\n        description: string\r\n        members: Array<{ name: string; designation: string; image: string; phone?: string; email?: string }>\r\n      }\r\n      tpa: {\r\n        title: string\r\n        description: string\r\n        members: Array<{ name: string; designation: string; image: string; phone?: string; email?: string }>\r\n      }\r\n    }\r\n    orgStructure: {\r\n      title: string\r\n      description: string\r\n      image: string\r\n    }\r\n  }\r\n  academics: {\r\n    subjects: {\r\n      title: string\r\n      description: string\r\n      items: Array<{ name: string; image: string }>\r\n    }\r\n    regularClasses: {\r\n      title: string\r\n      description: string\r\n      schedules: Array<{ grade: string; time: string; subjects: string }>\r\n    }\r\n    otherPrograms: {\r\n      title: string\r\n      description: string\r\n      programs: Array<{ name: string; description: string; image: string }>\r\n    }\r\n    calendar: {\r\n      title: string\r\n      description: string\r\n      file: string\r\n    }\r\n  }\r\n  contact: {\r\n    hero: { title: string; subtitle: string; image: string }\r\n    info: {\r\n      address: string\r\n      phone: string\r\n      email: string\r\n      mapUrl: string\r\n    }\r\n    details: {\r\n      title: string\r\n      cards: Array<{\r\n        icon: string\r\n        title: string\r\n        items: string[]\r\n      }>\r\n    }\r\n  }\r\n  admissions: {\r\n    hero: { title: string; subtitle: string; image: string }\r\n    process: {\r\n      title: string\r\n      subtitle: string\r\n      steps: Array<{ step: number; title: string; description: string; icon: string }>\r\n    }\r\n    scholarships: {\r\n      title: string\r\n      subtitle: string\r\n      badge: string\r\n      mainTitle: string\r\n      description1: string\r\n      description2: string\r\n      applyTitle: string\r\n      steps: Array<{ title: string; description: string; icon: string }>\r\n      buttonText: string\r\n    }\r\n    documents: {\r\n      title: string\r\n      description: string\r\n      items: string[]\r\n    }\r\n    fees: {\r\n      title: string\r\n      description: string\r\n      structure: Array<{ level: string; admissionFee: string; monthlyFee: string }>\r\n      disclaimer: string\r\n    }\r\n    form: {\r\n      title: string\r\n      subtitle: string\r\n    }\r\n    cta: {\r\n      title: string\r\n      description: string\r\n      contactButton: string\r\n      callButton: string\r\n    }\r\n  }\r\n  articles: Array<{\r\n    id: number\r\n    title: string\r\n    content: string\r\n    author: string\r\n    date: string\r\n    image: string\r\n    videoUrl?: string\r\n    excerpt: string\r\n    category?: string\r\n  }>\r\n}\r\n\r\nexport const defaultContent: CMSContent = {\r\n  hero: {\r\n    badge: \"Excellence in Education Since 1999\",\r\n    title: \"Nurturing Tomorrow's Leaders Today\",\r\n    subtitle: \"Empowering students with quality education, modern facilities, and holistic development for a brighter future.\",\r\n    cta: \"Apply Now\",\r\n    learnMore: \"Learn More\",\r\n    backgroundVideo: \"/background.mp4\",\r\n    stats: {\r\n      yearsExp: { value: 25, label: \"Years of Excellence\" },\r\n      teachers: { value: 50, label: \"Qualified Teachers\" },\r\n      students: { value: 1000, label: \"Happy Students\" },\r\n      alumni: { value: 5000, label: \"Alumni Network\" },\r\n    },\r\n  },\r\n  features: {\r\n    title: \"Why Choose Canary Academy\",\r\n    subtitle: \"Discover what makes us the preferred choice for quality education\",\r\n    items: [\r\n      {\r\n        title: \"Qualified Faculty\",\r\n        description: \"Our experienced teachers are dedicated to nurturing each student's potential with personalized attention.\",\r\n        image: \"/features/qualified faculity.jpg\",\r\n        icon: \"üë®‚Äçüè´\",\r\n      },\r\n      {\r\n        title: \"Modern Curriculum\",\r\n        description: \"We blend traditional values with contemporary teaching methods to prepare students for the future.\",\r\n        image: \"/features/modern curruculumn.jpg\",\r\n        icon: \"üìö\",\r\n      },\r\n      {\r\n        title: \"State-of-the-art Facilities\",\r\n        description: \"From science labs to sports facilities, we provide the best infrastructure for holistic development.\",\r\n        image: \"/features/trophies.jpg\",\r\n        icon: \"üè´\",\r\n      },\r\n      {\r\n        title: \"Extracurricular Activities\",\r\n        description: \"Sports, arts, music, and clubs help students discover their passions beyond academics.\",\r\n        image: \"/features/extra activities.jpg\",\r\n        icon: \"üé®\",\r\n      },\r\n    ],\r\n  },\r\n  programs: {\r\n    title: \"Our Academic Programs\",\r\n    subtitle: \"Comprehensive education programs designed for every stage of learning\",\r\n    items: [\r\n      {\r\n        level: \"Primary (K-5)\",\r\n        description: \"Foundation years focusing on literacy, numeracy, and social skills development.\",\r\n        subjects: [\"English\", \"Mathematics\", \"Science\", \"Social Studies\", \"Nepali\", \"Arts & Crafts\"],\r\n      },\r\n      {\r\n        level: \"Lower Secondary (6-8)\",\r\n        description: \"Building on fundamentals with deeper subject exploration and critical thinking.\",\r\n        subjects: [\"English\", \"Mathematics\", \"Science\", \"Social Studies\", \"Nepali\", \"Computer Science\", \"Physical Education\"],\r\n      },\r\n      {\r\n        level: \"Secondary (9-10)\",\r\n        description: \"Comprehensive preparation for board examinations and higher education.\",\r\n        subjects: [\"English\", \"Mathematics\", \"Science\", \"Social Studies\", \"Nepali\", \"Optional Mathematics\", \"Computer Science\"],\r\n      },\r\n    ],\r\n  },\r\n  testimonials: {\r\n    title: \"What Our Community Says\",\r\n    subtitle: \"Hear from parents, students, and alumni about their experiences\",\r\n    items: [\r\n      {\r\n        name: \"Rajesh Sharma\",\r\n        role: \"Parent\",\r\n        content: \"Canary Academy has transformed my child's learning experience. The teachers are dedicated and the facilities are excellent.\",\r\n        rating: 5,\r\n      },\r\n      {\r\n        name: \"Anita Thapa\",\r\n        role: \"Parent\",\r\n        content: \"The holistic approach to education at Canary Academy ensures my daughter excels both academically and in extracurricular activities.\",\r\n        rating: 5,\r\n      },\r\n      {\r\n        name: \"Bikash Gurung\",\r\n        role: \"Alumni\",\r\n        content: \"My time at Canary Academy laid a strong foundation for my university education. Forever grateful to the institution.\",\r\n        rating: 5,\r\n      },\r\n    ],\r\n  },\r\n  cta: {\r\n    title: \"Ready to Begin Your Journey?\",\r\n    text: \"Join Canary Academy and become part of a community dedicated to excellence in education. Apply now or contact us to learn more.\",\r\n    applyNow: \"Apply Now\",\r\n    contactUs: \"Contact Us\",\r\n  },\r\n  news: [],\r\n  gallery: galleryImages.map((item) => ({\r\n    id: item.id,\r\n    title: item.title,\r\n    category: item.category,\r\n    image: item.image,\r\n  })),\r\n\r\n  about: {\r\n    hero: {\r\n      title: \"About Canary Academy\",\r\n      description: \"Established in 1999, Canary Academy has been a beacon of educational excellence in Nepal, nurturing young minds and shaping future leaders.\",\r\n      image: \"/images/about-hero-bg.jpg\",\r\n    },\r\n    story: {\r\n      badge: \"Est. 1999\",\r\n      title: \"Our Story\",\r\n      subtitle: \"A journey of educational excellence\",\r\n      paragraph1: \"Canary Academy was founded in 1999 with a vision to provide quality education that nurtures both academic excellence and character development. What started as a small institution with just a handful of students has grown into one of the most respected educational institutions in the region.\",\r\n      paragraph2: \"Over the years, we have remained committed to our founding principles while continuously evolving our teaching methodologies to meet the demands of the modern world. Our alumni have gone on to excel in various fields, from medicine and engineering to arts and entrepreneurship.\",\r\n      imageCaption: \"Building Tomorrow's Leaders\",\r\n      image: \"/images/school-building.jpg\",\r\n      stats: {\r\n        experience: { value: \"25+\", label: \"Years of Excellence\" },\r\n        graduates: { value: \"1000+\", label: \"Successful Graduates\" },\r\n      },\r\n    },\r\n    vision: {\r\n      title: \"Our Vision\",\r\n      description: \"To be a leading educational institution that empowers students to become responsible global citizens with strong values, critical thinking abilities, and a passion for lifelong learning.\",\r\n    },\r\n    mission: {\r\n      title: \"Our Mission\",\r\n      description: \"To provide holistic education that develops intellectual, physical, emotional, and social capabilities of each student through innovative teaching methods, modern infrastructure, and a nurturing environment.\",\r\n    },\r\n    values: {\r\n      title: \"Our Core Values\",\r\n      subtitle: \"The principles that guide everything we do\",\r\n      items: [\r\n        {\r\n          title: \"Excellence\",\r\n          description: \"We strive for excellence in all aspects of education and continuously raise our standards.\",\r\n        },\r\n        {\r\n          title: \"Integrity\",\r\n          description: \"We uphold honesty and strong moral principles in all our interactions.\",\r\n        },\r\n        {\r\n          title: \"Community\",\r\n          description: \"We foster a sense of belonging and encourage collaboration among students, teachers, and parents.\",\r\n        },\r\n        {\r\n          title: \"Innovation\",\r\n          description: \"We embrace new ideas and technologies to enhance the learning experience.\",\r\n        },\r\n      ],\r\n    },\r\n    journey: {\r\n      title: \"Our Journey\",\r\n      subtitle: \"Key milestones in our history\",\r\n      milestones: [\r\n        { year: \"1999\", event: \"Canary Academy was founded with 50 students and 5 teachers\" },\r\n        { year: \"2005\", event: \"Expanded to include secondary level education\" },\r\n        { year: \"2010\", event: \"Inaugurated new campus with modern facilities\" },\r\n        { year: \"2015\", event: \"Achieved 100% pass rate in board examinations\" },\r\n        { year: \"2020\", event: \"Launched digital learning platforms\" },\r\n        { year: \"2024\", event: \"Celebrating 25 years of educational excellence\" },\r\n      ],\r\n    },\r\n    team: {\r\n      title: \"Meet Our Team\",\r\n      description: \"Our dedicated team of educators and staff work tirelessly to provide the best learning environment for our students.\",\r\n      button: \"View Committee\",\r\n    },\r\n    committee: {\r\n      smc: {\r\n        title: \"School Management Committee\",\r\n        description: \"Our dedicated committee members working for the school's progress.\",\r\n        members: [\r\n          { name: \"Pending Update\", designation: \"Chairperson\", image: \"\", phone: \"+977 9800000000\", email: \"smc.chair@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Member Secretary\", image: \"\", phone: \"+977 9800000000\", email: \"smc.sec@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Member\", image: \"\", phone: \"+977 9800000000\", email: \"smc.member@canaryacademy.edu.np\" },\r\n        ],\r\n      },\r\n      soc: {\r\n        title: \"School Operation Committee\",\r\n        description: \"Committee responsible for school operations and administration.\",\r\n        members: [\r\n          { name: \"Pending Update\", designation: \"Head of Operations\", image: \"\", phone: \"+977 9800000000\", email: \"ops.head@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Administrator\", image: \"\", phone: \"+977 9800000000\", email: \"admin@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Coordinator\", image: \"\", phone: \"+977 9800000000\", email: \"coordinator@canaryacademy.edu.np\" },\r\n        ],\r\n      },\r\n      tpa: {\r\n        title: \"Parent Teacher Organization\",\r\n        description: \"Organization fostering collaboration between parents and teachers.\",\r\n        members: [\r\n          { name: \"Pending Update\", designation: \"President\", image: \"\", phone: \"+977 9800000000\", email: \"pto.president@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Vice President\", image: \"\", phone: \"+977 9800000000\", email: \"pto.vp@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Secretary\", image: \"\", phone: \"+977 9800000000\", email: \"pto.sec@canaryacademy.edu.np\" },\r\n          { name: \"Pending Update\", designation: \"Teacher Representative\", image: \"\", phone: \"+977 9800000000\", email: \"teacher.rep@canaryacademy.edu.np\" },\r\n        ],\r\n      },\r\n    },\r\n    orgStructure: {\r\n      title: \"Organizational Structure\",\r\n      description: \"How our school is organized.\",\r\n      image: \"/org-structure.jpg\",\r\n    },\r\n  },\r\n  academics: {\r\n    subjects: {\r\n      title: \"Our Subjects\",\r\n      description: \"Explore the wide range of subjects we offer.\",\r\n      items: [\r\n        { name: \"Mathematics\", image: \"/subjects/math.jpg\" },\r\n        { name: \"Science\", image: \"/subjects/science.jpg\" },\r\n      ],\r\n    },\r\n    regularClasses: {\r\n      title: \"Regular Classes\",\r\n      description: \"Daily class schedules and routines.\",\r\n      schedules: [\r\n        { grade: \"Grade 10\", time: \"9:00 AM - 3:00 PM\", subjects: \"Math, Science, English, Nepali\" },\r\n      ],\r\n    },\r\n    otherPrograms: {\r\n      title: \"Other Programs\",\r\n      description: \"Extra-curricular and co-curricular activities.\",\r\n      programs: [\r\n        { name: \"Music Class\", description: \"Learn instruments and vocal music.\", image: \"\" },\r\n      ],\r\n    },\r\n    calendar: {\r\n      title: \"Academic Calendar\",\r\n      description: \"View our academic calendar for important dates and events throughout the year.\",\r\n      file: \"\",\r\n    },\r\n  },\r\n  contact: {\r\n    hero: { title: \"Contact Us\", subtitle: \"Get in touch with us\", image: \"\" },\r\n    info: {\r\n      address: \"Pokhara, Nepal\",\r\n      phone: \"+977-61-123456\",\r\n      email: \"info@canaryacademy.edu.np\",\r\n      mapUrl: \"https://www.google.com/maps/embed?...\",\r\n    },\r\n    details: {\r\n      title: \"Get In Touch\",\r\n      cards: [\r\n        {\r\n          icon: \"MapPin\",\r\n          title: \"Address\",\r\n          items: [\r\n            \"Canary Academy\",\r\n            \"Haldibari 2, Jhapa\",\r\n            \"P.O. Box: XXXX\",\r\n          ],\r\n        },\r\n        {\r\n          icon: \"Phone\",\r\n          title: \"Phone\",\r\n          items: [\r\n            \"+977-1-XXXXXXX (Office)\",\r\n            \"+977 98XXXXXXXX (Mobile)\",\r\n            \"+977-1-XXXXXXX (Fax)\",\r\n          ],\r\n        },\r\n        {\r\n          icon: \"Mail\",\r\n          title: \"Email\",\r\n          items: [\r\n            \"info@canaryacademy.edu.np\",\r\n            \"admissions@canaryacademy.edu.np\",\r\n            \"principal@canaryacademy.edu.np\",\r\n          ],\r\n        },\r\n        {\r\n          icon: \"Clock\",\r\n          title: \"Office Hours\",\r\n          items: [\r\n            \"Monday - Friday: 8:00 AM - 4:00 PM\",\r\n            \"Saturday: 8:00 AM - 1:00 PM\",\r\n            \"Sunday: Closed\",\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  },\r\n  admissions: {\r\n    hero: {\r\n      title: \"Admissions\",\r\n      subtitle: \"Join our family and become part of our educational excellence\",\r\n      image: \"\"\r\n    },\r\n    process: {\r\n      title: \"Admission Process\",\r\n      subtitle: \"Simple steps to join our academy\",\r\n      steps: [\r\n        { step: 1, title: \"Application\", description: \"Fill out the online application form with required details.\", icon: \"FileText\" },\r\n        { step: 2, title: \"Document Submission\", description: \"Submit all required documents for verification.\", icon: \"Clock\" },\r\n        { step: 3, title: \"Interview\", description: \"Attend an interview with our admission committee.\", icon: \"Users\" },\r\n        { step: 4, title: \"Confirmation\", description: \"Receive admission confirmation and complete enrollment.\", icon: \"CheckCircle2\" },\r\n      ],\r\n    },\r\n    scholarships: {\r\n      title: \"Scholarships & Financial Aid\",\r\n      subtitle: \"Making quality education accessible to all deserving students\",\r\n      badge: \"Financial Support Available\",\r\n      mainTitle: \"Merit-Based Scholarships\",\r\n      description1: \"We believe that financial constraints should not hinder a student's access to quality education. Our scholarship program is designed to support academically excellent and financially deserving students.\",\r\n      description2: \"Scholarships cover up to 100% of tuition fees based on merit and need. We also offer flexible payment plans for families requiring financial assistance.\",\r\n      applyTitle: \"How to Apply for Scholarship\",\r\n      steps: [\r\n        { title: \"Submit Application\", description: \"Fill out the scholarship application form along with admission form.\", icon: \"FileText\" },\r\n        { title: \"Entrance Test\", description: \"Appear for our scholarship entrance examination.\", icon: \"Users\" },\r\n        { title: \"Get Results\", description: \"Scholarship results announced within 2 weeks.\", icon: \"CheckCircle2\" },\r\n      ],\r\n      buttonText: \"Contact for Scholarship Info\",\r\n    },\r\n    documents: {\r\n      title: \"Required Documents\",\r\n      description: \"Please prepare the following documents for the admission process:\",\r\n      items: [\r\n        \"Birth Certificate (Original and photocopy)\",\r\n        \"Previous school leaving certificate\",\r\n        \"Mark sheets of previous grades\",\r\n        \"Passport-sized photographs (4 copies)\",\r\n        \"Parent/Guardian ID proof\",\r\n        \"Medical certificate\",\r\n      ],\r\n    },\r\n    fees: {\r\n      title: \"Fee Structure\",\r\n      description: \"Our transparent fee structure for different grade levels:\",\r\n      structure: [\r\n        { level: \"Primary (K-5)\", admissionFee: \"NPR 15,000\", monthlyFee: \"NPR 8,000\" },\r\n        { level: \"Lower Secondary (6-8)\", admissionFee: \"NPR 18,000\", monthlyFee: \"NPR 10,000\" },\r\n        { level: \"Secondary (9-10)\", admissionFee: \"NPR 20,000\", monthlyFee: \"NPR 12,000\" },\r\n      ],\r\n      disclaimer: \"* Fees are subject to change. Additional charges may apply for extracurricular activities and transportation.\",\r\n    },\r\n    form: {\r\n      title: \"Apply Online\",\r\n      subtitle: \"Fill out the form below to start your admission process\",\r\n    },\r\n    cta: {\r\n      title: \"Have Questions About Admissions?\",\r\n      description: \"Our admission team is here to help you through every step of the process. Contact us for personalized assistance.\",\r\n      contactButton: \"Contact Us\",\r\n      callButton: \"Call Now\",\r\n    },\r\n  },\r\n  articles: [],\r\n}\r\n\r\nconst STORAGE_KEY = \"cms_content\"\r\n\r\nexport function getCMSContent(): CMSContent {\r\n  if (typeof window === \"undefined\") return defaultContent\r\n\r\n  try {\r\n    const stored = localStorage.getItem(STORAGE_KEY)\r\n    if (stored) {\r\n      const parsed = JSON.parse(stored)\r\n      // Deep merge: prioritize stored content, but fill in missing fields from defaults\r\n      return {\r\n        ...defaultContent,\r\n        ...parsed,\r\n        hero: {\r\n          ...defaultContent.hero,\r\n          ...parsed.hero,\r\n          stats: { ...defaultContent.hero.stats, ...(parsed.hero?.stats || {}) }\r\n        },\r\n        features: {\r\n          ...defaultContent.features,\r\n          ...parsed.features,\r\n          items: parsed.features?.items || defaultContent.features.items\r\n        },\r\n        programs: {\r\n          ...defaultContent.programs,\r\n          ...parsed.programs,\r\n          items: parsed.programs?.items || defaultContent.programs.items\r\n        },\r\n        testimonials: {\r\n          ...defaultContent.testimonials,\r\n          ...parsed.testimonials,\r\n          items: parsed.testimonials?.items || defaultContent.testimonials.items\r\n        },\r\n        cta: { ...defaultContent.cta, ...parsed.cta },\r\n        news: parsed.news !== undefined ? parsed.news : defaultContent.news,\r\n        gallery: parsed.gallery !== undefined ? parsed.gallery : defaultContent.gallery,\r\n\r\n        about: {\r\n          ...defaultContent.about,\r\n          ...parsed.about,\r\n          hero: { ...defaultContent.about.hero, ...(parsed.about?.hero || {}) },\r\n          story: { ...defaultContent.about.story, ...(parsed.about?.story || {}) },\r\n          vision: { ...defaultContent.about.vision, ...(parsed.about?.vision || {}) },\r\n          mission: { ...defaultContent.about.mission, ...(parsed.about?.mission || {}) },\r\n          values: {\r\n            ...defaultContent.about.values,\r\n            ...(parsed.about?.values || {}),\r\n            items: parsed.about?.values?.items || defaultContent.about.values.items\r\n          },\r\n          journey: {\r\n            ...defaultContent.about.journey,\r\n            ...(parsed.about?.journey || {}),\r\n            milestones: parsed.about?.journey?.milestones || defaultContent.about.journey.milestones\r\n          },\r\n          team: { ...defaultContent.about.team, ...(parsed.about?.team || {}) },\r\n          committee: {\r\n            ...defaultContent.about.committee,\r\n            ...(parsed.about?.committee || {}),\r\n            smc: {\r\n              ...defaultContent.about.committee.smc,\r\n              ...(parsed.about?.committee?.smc || {}),\r\n              members: parsed.about?.committee?.smc?.members || defaultContent.about.committee.smc.members\r\n            },\r\n            soc: {\r\n              ...defaultContent.about.committee.soc,\r\n              ...(parsed.about?.committee?.soc || {}),\r\n              members: parsed.about?.committee?.soc?.members || defaultContent.about.committee.soc.members\r\n            },\r\n            tpa: {\r\n              ...defaultContent.about.committee.tpa,\r\n              ...(parsed.about?.committee?.tpa || {}),\r\n              members: parsed.about?.committee?.tpa?.members || defaultContent.about.committee.tpa.members\r\n            },\r\n          },\r\n          orgStructure: { ...defaultContent.about.orgStructure, ...(parsed.about?.orgStructure || {}) },\r\n        },\r\n        academics: {\r\n          ...defaultContent.academics,\r\n          ...parsed.academics,\r\n          subjects: {\r\n            ...defaultContent.academics.subjects,\r\n            ...(parsed.academics?.subjects || {}),\r\n            items: parsed.academics?.subjects?.items || defaultContent.academics.subjects.items\r\n          },\r\n          regularClasses: {\r\n            ...defaultContent.academics.regularClasses,\r\n            ...(parsed.academics?.regularClasses || {}),\r\n            schedules: parsed.academics?.regularClasses?.schedules || defaultContent.academics.regularClasses.schedules\r\n          },\r\n          otherPrograms: {\r\n            ...defaultContent.academics.otherPrograms,\r\n            ...(parsed.academics?.otherPrograms || {}),\r\n            programs: parsed.academics?.otherPrograms?.programs || defaultContent.academics.otherPrograms.programs\r\n          },\r\n          calendar: {\r\n            ...defaultContent.academics.calendar,\r\n            ...(parsed.academics?.calendar || {}),\r\n          },\r\n        },\r\n        contact: {\r\n          ...defaultContent.contact,\r\n          ...parsed.contact,\r\n          hero: { ...defaultContent.contact.hero, ...(parsed.contact?.hero || {}) },\r\n          info: { ...defaultContent.contact.info, ...(parsed.contact?.info || {}) }\r\n        },\r\n        admissions: {\r\n          ...defaultContent.admissions,\r\n          ...parsed.admissions,\r\n          hero: { ...defaultContent.admissions.hero, ...(parsed.admissions?.hero || {}) },\r\n          process: {\r\n            ...defaultContent.admissions.process,\r\n            ...(parsed.admissions?.process || {}),\r\n            steps: parsed.admissions?.process?.steps || defaultContent.admissions.process.steps\r\n          },\r\n          scholarships: {\r\n            ...defaultContent.admissions.scholarships,\r\n            ...(parsed.admissions?.scholarships || {}),\r\n            steps: parsed.admissions?.scholarships?.steps || defaultContent.admissions.scholarships.steps\r\n          },\r\n        },\r\n        articles: parsed.articles !== undefined ? parsed.articles : defaultContent.articles,\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error loading CMS content:\", error)\r\n  }\r\n\r\n  return defaultContent\r\n}\r\n\r\nexport async function fetchCMSContent(): Promise<CMSContent> {\r\n  if (typeof window === \"undefined\") return defaultContent\r\n\r\n  try {\r\n    const response = await fetch('/api/content')\r\n    if (response.ok) {\r\n      const data = await response.json()\r\n      return {\r\n        ...defaultContent,\r\n        ...data,\r\n        hero: {\r\n          ...defaultContent.hero,\r\n          ...(data.hero || {}),\r\n          stats: { ...defaultContent.hero.stats, ...(data.hero?.stats || {}) }\r\n        },\r\n        about: {\r\n          ...defaultContent.about,\r\n          ...(data.about || {}),\r\n          committee: {\r\n            ...defaultContent.about.committee,\r\n            ...(data.about?.committee || {}),\r\n            smc: { ...defaultContent.about.committee.smc, ...(data.about?.committee?.smc || {}) },\r\n            soc: { ...defaultContent.about.committee.soc, ...(data.about?.committee?.soc || {}) },\r\n            tpa: { ...defaultContent.about.committee.tpa, ...(data.about?.committee?.tpa || {}) },\r\n          },\r\n          orgStructure: {\r\n            ...defaultContent.about.orgStructure,\r\n            ...(data.about?.orgStructure || {})\r\n          }\r\n        },\r\n        features: { ...defaultContent.features, ...(data.features || {}) },\r\n        programs: { ...defaultContent.programs, ...(data.programs || {}) },\r\n        testimonials: { ...defaultContent.testimonials, ...(data.testimonials || {}) },\r\n        contact: {\r\n          ...defaultContent.contact,\r\n          ...data.contact,\r\n          hero: { ...defaultContent.contact.hero, ...(data.contact?.hero || {}) },\r\n          info: { ...defaultContent.contact.info, ...(data.contact?.info || {}) }\r\n        },\r\n        admissions: {\r\n          ...defaultContent.admissions,\r\n          ...data.admissions,\r\n          hero: { ...defaultContent.admissions.hero, ...(data.admissions?.hero || {}) },\r\n          process: {\r\n            ...defaultContent.admissions.process,\r\n            ...(data.admissions?.process || {}),\r\n            steps: data.admissions?.process?.steps || defaultContent.admissions.process.steps\r\n          },\r\n          scholarships: {\r\n            ...defaultContent.admissions.scholarships,\r\n            ...(data.admissions?.scholarships || {}),\r\n            steps: data.admissions?.scholarships?.steps || defaultContent.admissions.scholarships.steps\r\n          },\r\n          fees: {\r\n            ...defaultContent.admissions.fees,\r\n            ...(data.admissions?.fees || {}),\r\n            structure: data.admissions?.fees?.structure || defaultContent.admissions.fees.structure\r\n          },\r\n          documents: {\r\n            ...defaultContent.admissions.documents,\r\n            ...(data.admissions?.documents || {}),\r\n            items: data.admissions?.documents?.items || defaultContent.admissions.documents.items\r\n          }\r\n        },\r\n        articles: data.articles !== undefined ? data.articles : defaultContent.articles,\r\n        news: data.news !== undefined ? data.news : defaultContent.news,\r\n        gallery: data.gallery !== undefined ? data.gallery : defaultContent.gallery,\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching CMS content:\", error)\r\n  }\r\n  return defaultContent\r\n}\r\n\r\nexport async function saveCMSContent(content: CMSContent): Promise<void> {\r\n  if (typeof window === \"undefined\") return\r\n\r\n  try {\r\n    // Save to API (filesystem)\r\n    await fetch('/api/content', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(content)\r\n    })\r\n\r\n    // Also save to localStorage as backup/cache if needed, but primary is API\r\n    // localStorage.setItem(STORAGE_KEY, JSON.stringify(content)) \r\n\r\n    // Dispatch custom event to notify components of the update\r\n    window.dispatchEvent(new Event('cms:update'))\r\n  } catch (error) {\r\n    console.error(\"Error saving CMS content:\", error)\r\n  }\r\n}\r\n\r\nexport function updateCMSContent(section: keyof CMSContent, data: any): void {\r\n  const content = getCMSContent()\r\n  content[section] = { ...content[section], ...data } as any\r\n  saveCMSContent(content)\r\n}\r\n\r\nexport function resetCMSContent(): void {\r\n  if (typeof window === \"undefined\") return\r\n  localStorage.removeItem(STORAGE_KEY)\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[2]}